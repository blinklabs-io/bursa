openapi: 3.0.1
info:
  contact:
    email: support@blinklabs.io
    name: Blink Labs
    url: https://blinklabs.io
  description: Programmable Cardano Wallet API
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  title: bursa
  version: v0
servers:
- url: /
paths:
  /api/script/address:
    post:
      description: Generate an address for a script on the specified network
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.ScriptAddressRequest"
        description: Script Address Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ScriptAddressResponse"
          description: Script address generated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Generate script address
      x-codegen-request-body-name: request
  /api/script/create:
    post:
      description: Create a new multi-signature script with the specified parameters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.ScriptCreateRequest"
        description: Script Create Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ScriptResponse"
          description: Script successfully created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Create a multi-signature script
      x-codegen-request-body-name: request
  /api/script/validate:
    post:
      description: Validate a script's structure and requirements
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.ScriptValidateRequest"
        description: Script Validate Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ScriptValidateResponse"
          description: Script validation result
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Validate a script
      x-codegen-request-body-name: request
  /api/address/build:
    post:
      description: Build a Cardano address from verification keys
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.AddressBuildRequest"
        description: Address Build Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.AddressBuildResponse"
          description: Address built successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request or keys
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Build Cardano address
      x-codegen-request-body-name: request
  /api/wallet/create:
    get:
      description: Create a wallet and return details
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/bursa.Wallet"
          description: Ok
      summary: Create a wallet
  /api/wallet/delete:
    post:
      description: Deletes a wallet from persistent storage and optional password.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.WalletDeleteRequest"
        description: Wallet Delete Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: Wallet successfully deleted
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Delete wallet from persistent storage
      x-codegen-request-body-name: request
  /api/wallet/get:
    post:
      description: Gets a wallet from persistent storage and optional password and
        returns wallet details.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.WalletGetRequest"
        description: Wallet Restore Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/bursa.Wallet"
          description: Wallet successfully loaded
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Get wallet from persistent storage
      x-codegen-request-body-name: request
  /api/wallet/list:
    get:
      description: List all wallets stored in secret storage matching our prefix
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: Ok
      summary: Lists wallets
  /api/wallet/restore:
    post:
      description: Restores a wallet using the provided mnemonic seed phrase and optional
        password and returns wallet details.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.WalletRestoreRequest"
        description: Wallet Restore Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/bursa.Wallet"
          description: Wallet successfully restored
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api.ErrorResponse"
          description: Internal server error
      summary: Restore a wallet using a mnemonic seed phrase
      x-codegen-request-body-name: request
  /api/wallet/update:
    post:
      description: Updates a wallet from persistent storage and optional password
        and returns wallet details.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/api.WalletUpdateRequest"
        description: Wallet Update Request
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: Wallet successfully updated
        "400":
          content:
            application/json:
              schema:
                type: string
          description: Invalid request
        "500":
          content:
            application/json:
              schema:
                type: string
          description: Internal server error
      summary: Update a wallet in persistent storage
      x-codegen-request-body-name: request
components:
  schemas:
    api.ErrorResponse:
      example:
        error: error
        fields:
          key: fields
      properties:
        error:
          type: string
        fields:
          additionalProperties:
            type: string
          type: object
      type: object
    api.ScriptAddressRequest:
      properties:
        network:
          enum:
          - mainnet
          - testnet
          type: string
        script:
          additionalProperties:
            type: object
          type: object
      required:
      - network
      - script
      type: object
    api.ScriptAddressResponse:
      example:
        address: address
        scriptHash: scriptHash
        network: network
      properties:
        address:
          type: string
        network:
          type: string
        scriptHash:
          type: string
      type: object
    api.ScriptCreateRequest:
      properties:
        key_hashes:
          items:
            type: string
          minItems: 1
          type: array
        network:
          enum:
          - mainnet
          - testnet
          type: string
        required:
          minimum: 1
          type: integer
        timelock_after:
          format: int64
          type: integer
        timelock_before:
          format: int64
          type: integer
        type:
          enum:
          - nOf
          - all
          - any
          type: string
      required:
      - key_hashes
      - network
      - type
      type: object
    api.ScriptResponse:
      example:
        address: address
        scriptHash: scriptHash
        type: type
        script:
          key: "{}"
      properties:
        address:
          type: string
        script:
          additionalProperties:
            type: object
          type: object
        scriptHash:
          type: string
        type:
          type: string
      type: object
    api.ScriptValidateRequest:
      properties:
        require_signatures:
          type: boolean
        script:
          additionalProperties:
            type: object
          type: object
        signatures:
          items:
            type: string
          type: array
        slot:
          format: int64
          type: integer
      required:
      - script
      type: object
    api.ScriptValidateResponse:
      example:
        valid: true
        scriptHash: scriptHash
        slot: 6
        signatures: 0
      properties:
        scriptHash:
          type: string
        signatures:
          type: integer
        slot:
          format: int64
          type: integer
        valid:
          type: boolean
      type: object
    api.AddressBuildRequest:
      oneOf:
      - $ref: "#/components/schemas/api.AddressBuildRequestBase"
      - $ref: "#/components/schemas/api.AddressBuildRequestEnterprise"
      - $ref: "#/components/schemas/api.AddressBuildRequestReward"
      discriminator:
        propertyName: type
        mapping:
          base: "#/components/schemas/api.AddressBuildRequestBase"
          enterprise: "#/components/schemas/api.AddressBuildRequestEnterprise"
          reward: "#/components/schemas/api.AddressBuildRequestReward"
    api.AddressBuildRequestBase:
      properties:
        network:
          enum:
          - mainnet
          - testnet
          type: string
        paymentKey:
          description: bech32-encoded verification key
          type: string
        stakeKey:
          description: bech32-encoded verification key
          type: string
        type:
          description: Address type (defaults to "base")
          enum:
          - base
          type: string
      required:
      - network
      - paymentKey
      - stakeKey
      type: object
    api.AddressBuildRequestEnterprise:
      properties:
        network:
          enum:
          - mainnet
          - testnet
          type: string
        paymentKey:
          description: bech32-encoded verification key
          type: string
        type:
          description: Address type
          enum:
          - enterprise
          type: string
      required:
      - network
      - paymentKey
      - type
      type: object
    api.AddressBuildRequestReward:
      properties:
        network:
          enum:
          - mainnet
          - testnet
          type: string
        stakeKey:
          description: bech32-encoded verification key
          type: string
        type:
          description: Address type
          enum:
          - reward
          type: string
      required:
      - network
      - stakeKey
      - type
      type: object
    api.AddressBuildResponse:
      properties:
        address:
          type: string
        network:
          type: string
        type:
          type: string
      type: object
    api.WalletDeleteRequest:
      properties:
        name:
          maxLength: 100
          minLength: 1
          type: string
        password:
          type: string
      required:
      - name
      type: object
    api.WalletGetRequest:
      properties:
        name:
          maxLength: 100
          minLength: 1
          type: string
        password:
          type: string
      required:
      - name
      type: object
    api.WalletRestoreRequest:
      properties:
        account_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        address_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        committee_cold_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        committee_hot_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        drep_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        mnemonic:
          minLength: 1
          type: string
        password:
          type: string
        payment_id:
          maximum: 2147483647
          minimum: 0
          type: integer
        stake_id:
          maximum: 2147483647
          minimum: 0
          type: integer
      required:
      - mnemonic
      type: object
    api.WalletUpdateRequest:
      properties:
        description:
          maxLength: 500
          type: string
        name:
          maxLength: 100
          minLength: 1
          type: string
        password:
          type: string
      required:
      - name
      type: object
    bursa.KeyFile:
      example:
        description: description
        type: type
        cborHex: cborHex
      properties:
        cborHex:
          type: string
        description:
          type: string
        type:
          type: string
      type: object
    bursa.Wallet:
      example:
        payment_vkey:
          description: description
          type: type
          cborHex: cborHex
        payment_skey:
          description: description
          type: type
          cborHex: cborHex
        committee_hot_extended_skey:
          description: description
          type: type
          cborHex: cborHex
        committee_hot_vkey:
          description: description
          type: type
          cborHex: cborHex
        stake_skey:
          description: description
          type: type
          cborHex: cborHex
        drep_vkey:
          description: description
          type: type
          cborHex: cborHex
        committee_cold_vkey:
          description: description
          type: type
          cborHex: cborHex
        payment_extended_skey:
          description: description
          type: type
          cborHex: cborHex
        drep_skey:
          description: description
          type: type
          cborHex: cborHex
        stake_address: stake1uy9ggsc9qls4pu9qvyyacwnmr9tt0gzcdt5s0zj4au8qkqc65ge8t
        committee_cold_extended_skey:
          description: description
          type: type
          cborHex: cborHex
        stake_vkey:
          description: description
          type: type
          cborHex: cborHex
        committee_cold_skey:
          description: description
          type: type
          cborHex: cborHex
        payment_address: addr1qxqs59lphg8g6qndelq8xwqn60ag3aeyfcp33c2kdp46a429mg32v29q3cg4sdj5c9ts5vxknc0yutnj8x8r8qy2l2q9sgds2
        committee_hot_skey:
          description: description
          type: type
          cborHex: cborHex
        mnemonic: abandon abandon abandon abandon abandon abandon abandon abandon
          abandon abandon abandon about
        stake_extended_skey:
          description: description
          type: type
          cborHex: cborHex
        drep_extended_skey:
          description: description
          type: type
          cborHex: cborHex
      properties:
        committee_cold_extended_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        committee_cold_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        committee_cold_vkey:
          $ref: "#/components/schemas/bursa.KeyFile"
        committee_hot_extended_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        committee_hot_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        committee_hot_vkey:
          $ref: "#/components/schemas/bursa.KeyFile"
        drep_extended_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        drep_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        drep_vkey:
          $ref: "#/components/schemas/bursa.KeyFile"
        mnemonic:
          example: abandon abandon abandon abandon abandon abandon abandon abandon
            abandon abandon abandon about
          type: string
        payment_address:
          example: addr1qxqs59lphg8g6qndelq8xwqn60ag3aeyfcp33c2kdp46a429mg32v29q3cg4sdj5c9ts5vxknc0yutnj8x8r8qy2l2q9sgds2
          type: string
        payment_extended_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        payment_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        payment_vkey:
          $ref: "#/components/schemas/bursa.KeyFile"
        stake_address:
          example: stake1uy9ggsc9qls4pu9qvyyacwnmr9tt0gzcdt5s0zj4au8qkqc65ge8t
          type: string
        stake_extended_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        stake_skey:
          $ref: "#/components/schemas/bursa.KeyFile"
        stake_vkey:
          $ref: "#/components/schemas/bursa.KeyFile"
      type: object
x-original-swagger-version: "2.0"
